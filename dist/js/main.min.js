$(function(){$.fn.initSidebarMenu=function(e){var a={activedClass:"actived",menuSelector:".menu-list",menuItemSelector:".menu-item",subMenuSeletor:".sub-menu-list",subMenuItemSeletor:".sub-menu-item"},n=$.extend(a,e),o=$(this),t=o.find(n.menuItemSelector);o.find(n.menuSelector+">"+n.menuItemSelector+">a").on("click",function(){var e=$(this).parents(n.menuItemSelector);e.hasClass(n.activedClass)?t.removeClass(n.activedClass):(t.removeClass(n.activedClass),e.addClass(n.activedClass))})},$.fn.initNavBarToggle=function(e){var a={sidebarMenuSelector:".sidebar-menu",sidebarCollapsedClass:"collapsed",mainContainerSelector:".main-container",mainContainerStretchedClass:"stretched"},n=$.extend(a,e),o=$(n.sidebarMenuSelector),t=$(n.mainContainerSelector),l=n.sidebarCollapsedClass,s=n.mainContainerStretchedClass,c=function(){o.addClass(l),t.addClass(s)},i=function(){o.removeClass(l),t.removeClass(s)};$(this).on("click",function(){o.hasClass(l)?i():c()});var r=$(window),d=function(){r.width()<=650?o.hasClass(l)||c():o.hasClass(l)&&i()};r.on("resize",d),$(document).ready(d)},$.fn.initScrollToTop=function(e){var a={scrollObjSelector:".wrapper",activedClass:"shown"},n=$.extend(a,e),o=$(n.scrollObjSelector),t=$(this),l=n.activedClass;o.on("scroll",function(){$(this).scrollTop()>300?t.addClass(l):t.removeClass(l)}),t.on("click",function(){o.animate({scrollTop:0})})},$.fn.showConfirm=function(e){var a={modalSelector:"#modal-confirm",btnSureSelector:".modal-btn-sure",pre:function(){},success:function(e){alert("提示：操作成功！")},error:function(e){alert("提示：操作失败！")}},n=$.extend(a,e),o=$(n.modalSelector),t=$(n.modalSelector+" input[type=hidden]");$(this).on("click",function(e){e.preventDefault(),e.stopPropagation(),n.pre.call(this);var a=$(this);t.val(a.data("url")),o.modal("show")}),$(n.btnSureSelector).on("click",function(){var e=t.val();e?n.success(e):n.error("error: 获取url失败！"),o.modal("hide")})},$.fn.initToggleBox=function(e){var a={boxSelector:".box",collapsedClass:"collapsed",openIcon:'<i class="fa fa-chevron-up"></i>',closeIcon:'<i class="fa fa-chevron-down"></i>'},n=$.extend(a,e),o=n.collapsedClass,t=$(this);t.on("click",function(){var e=$(this),a=e.parents(n.boxSelector);a.hasClass(o)?(e.html(n.openIcon),a.removeClass(o)):(e.html(n.closeIcon),a.addClass(o))})},$.fn.setDateRangePicker=function(e){var a=$(this);a.daterangepicker({locale:{format:"YYYY/MM/DD",separator:" - ",applyLabel:"确定",cancelLabel:"取消",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom",weekLabel:"W",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],firstDay:1},applyClass:"btn-success btn-flat",cancelClass:"btn-default no-border-radius"},function(e,a,n){}),a.val(""),a.on("blur",function(){$(this).val("")}),a.on("change",function(){var a=$(this).val(),n=a.split(" - "),o=new Date(Date.parse((n[0]+" 00:00:00").replace(/-/g,"/"))).getTime()/1e3,t=new Date(Date.parse((n[1]+" 23:59:59").replace(/-/g,"/"))).getTime()/1e3;e&&e(o,t)})},$.fn.initCheckAll=function(e){var a={childSelector:".child-cb"},n=$.extend(a,e),o=$(this),t=$(n.childSelector),l=t.length;o.on("click",function(){t.prop("checked",$(this).prop("checked"))}),t.on("click",function(){var e=$(n.childSelector+":checked");console.log(l,e.length),l==e.length?o.prop("checked",!0):o.prop("checked",!1)})},$(".sidebar-menu").initSidebarMenu(),$(".navbar-sidebar-toggle").initNavBarToggle(),$("[data-toggle='tooltip']").tooltip(),$(".scroll-to-top").initScrollToTop(),$(".box .box-toggle").initToggleBox()});